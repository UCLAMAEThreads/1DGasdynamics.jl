<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Normal shocks · Gasdynamics1D.jl</title><meta name="title" content="Normal shocks · Gasdynamics1D.jl"/><meta property="og:title" content="Normal shocks · Gasdynamics1D.jl"/><meta property="twitter:title" content="Normal shocks · Gasdynamics1D.jl"/><meta name="description" content="Documentation for Gasdynamics1D.jl."/><meta property="og:description" content="Documentation for Gasdynamics1D.jl."/><meta property="twitter:description" content="Documentation for Gasdynamics1D.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Gasdynamics1D.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../0-BasicGasDynamics/">Basic Tools for Quasi-1D Steady Compressible Flow</a></li><li><a class="tocitem" href="../1-IsentropicGasDynamics/">Isentropic quasi-1D steady compressible flow</a></li><li><a class="tocitem" href="../2-ConvergingDivergingNozzle/">Quasi-1D flow in a converging-diverging nozzle</a></li><li class="is-active"><a class="tocitem" href>Normal shocks</a></li><li><a class="tocitem" href="../4-FannoFlow/">Steady frictional flow through a constant-area duct</a></li><li><a class="tocitem" href="../5-RayleighFlow/">Steady flow through a duct with heat transfer</a></li><li><a class="tocitem" href="../functions/">Types and Functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Normal shocks</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Normal shocks</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/UCLAMAEThreads/Gasdynamics1D.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/UCLAMAEThreads/Gasdynamics1D.jl/blob/main/test/literate/3-NormalShocks.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Normal-shocks"><a class="docs-heading-anchor" href="#Normal-shocks">Normal shocks</a><a id="Normal-shocks-1"></a><a class="docs-heading-anchor-permalink" href="#Normal-shocks" title="Permalink"></a></h1><p>In the last notebook, we saw that normal shocks develop in a nozzle when it is not perfectly expanded. This notebook demonstrates the use of the compressible tools for dealing with <strong>normal shock waves</strong>.</p><h3 id="Set-up-the-module"><a class="docs-heading-anchor" href="#Set-up-the-module">Set up the module</a><a id="Set-up-the-module-1"></a><a class="docs-heading-anchor-permalink" href="#Set-up-the-module" title="Permalink"></a></h3><pre><code class="language-julia hljs">using Gasdynamics1D</code></pre><pre><code class="language-julia hljs">using Plots</code></pre><h3 id="General-use-of-normal-shock-relations"><a class="docs-heading-anchor" href="#General-use-of-normal-shock-relations">General use of normal shock relations</a><a id="General-use-of-normal-shock-relations-1"></a><a class="docs-heading-anchor-permalink" href="#General-use-of-normal-shock-relations" title="Permalink"></a></h3><p>Normal shock relations are designated with the argument <code>NormalShock</code>. For example, let&#39;s look at the ratio of stagnation pressures <span>$p_{02}/p_{01}$</span> across a normal shock  with the Mach number <span>$M_1$</span> entering the shock equal to 2:</p><pre><code class="language-julia hljs">p02_over_p01 = StagnationPressureRatio(MachNumber(2),NormalShock)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">StagnationPressureRatio = 0.7208738614847454</code></pre><p>and the density <span>$\rho_2/\rho_1$</span> increases by the factor:</p><pre><code class="language-julia hljs">ρ2_over_ρ1 = DensityRatio(MachNumber(2),NormalShock)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DensityRatio = 2.666666666666667</code></pre><p>What is the entropy change across this shock?</p><pre><code class="language-julia hljs">s2_minus_s1 = Entropy(Entropy(0),MachNumber(2),NormalShock)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Entropy = 93.93254753669774 J kg^-1 K^-1</code></pre><p>Let&#39;s plot the entropy increase as a function of Mach number:</p><pre><code class="language-julia hljs">M1 = range(1,3,length=101)
s2 = []
pratio = []
for M in M1
    push!(s2,ustrip(Entropy(Entropy(0),MachNumber(M),NormalShock)))
    push!(pratio,ustrip(PressureRatio(MachNumber(M),NormalShock)))
end</code></pre><pre><code class="language-julia hljs">plot(M1,s2,xlim=(1,3),ylim=(0,400),xlabel=&quot;Mach number&quot;,ylabel=&quot;Entropy increase (J/kgK)&quot;)</code></pre><img src="e8990212.svg" alt="Example block output"/><p>Not surprisingly, the entropy jump gets bigger as the Mach number increases</p><h3 id="Example-1"><a class="docs-heading-anchor" href="#Example-1">Example 1</a><a id="Example-1-1"></a><a class="docs-heading-anchor-permalink" href="#Example-1" title="Permalink"></a></h3><p>For air entering a shock at Mach number 3, 1 atm, and 50 degrees F, what are the Mach number, pressure, and temperature on the other side of the shock?</p><pre><code class="language-julia hljs">p1 = Pressure(1u&quot;atm&quot;)
M1 = MachNumber(3)
T1 = Temperature(50u&quot;°F&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Temperature = 283.15 K</code></pre><p>The Mach number exiting the shock is</p><pre><code class="language-julia hljs">M2 = MachNumber(M1,NormalShock)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MachNumber = 0.4751909633114914</code></pre><p>Pressure exiting the shock (in atm) is</p><pre><code class="language-julia hljs">p2 = Pressure(p1*PressureRatio(M1,NormalShock))
value(p2,u&quot;atm&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">10.333333333333334 atm</code></pre><p>and the temperature exiting the shock (in F) is</p><pre><code class="language-julia hljs">T2 = Temperature(T1*TemperatureRatio(M1,NormalShock))
value(T2,u&quot;°F&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">905.7422222222217 °F</code></pre><h3 id="Example-2"><a class="docs-heading-anchor" href="#Example-2">Example 2</a><a id="Example-2-1"></a><a class="docs-heading-anchor-permalink" href="#Example-2" title="Permalink"></a></h3><p>A blow-down supersonic windtunnel is supplied with air from a large reservoir. A Pitot tube is placed at the exit plane of a converging-diverging nozzle. The test section lies at the end of the diverging section. The Mach number in the test section (M2) is 2 and the pressure is below atmospheric, so a shock is formed at the exit. The pressure just after the shock (p3) is 14.7 psi. Find the pressure in the reservoir (p01), the pressure in the throat (pth), the Mach number just after the shock (M3), the pressure at the Pitot tube (p4), and the temperature at the Pitot  tube (T4).</p><pre><code class="language-julia hljs">M2 = MachNumber(2)
p3 = Pressure(14.7u&quot;psi&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Pressure = 101352.9322095749 Pa</code></pre><p>First, let&#39;s find the pressure just before the shock and the Mach number just after the shock p3/p2</p><pre><code class="language-julia hljs">p3_over_p2 = PressureRatio(M2,NormalShock)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">PressureRatio = 4.5</code></pre><p>p03/p02</p><pre><code class="language-julia hljs">p03_over_p02 = StagnationPressureRatio(M2,NormalShock)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">StagnationPressureRatio = 0.7208738614847454</code></pre><p>M3</p><pre><code class="language-julia hljs">M3 = MachNumber(M2,NormalShock)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MachNumber = 0.5773502691896257</code></pre><p>We can now calculate the pressure just before the shock, using <span>$p_2 = p_3/(p_3/p_2)$</span></p><pre><code class="language-julia hljs">p2 = Pressure(p3/p3_over_p2)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Pressure = 22522.873824349976 Pa</code></pre><p>Now, let&#39;s find the conditions in the throat and reservoir, based on what we have  been given here. We can immediately find the stagnation pressure upstream of the  shock using the isentropic relation. This stagnation pressure is the same as the  reservoir pressure.</p><pre><code class="language-julia hljs">p02 = StagnationPressure(p2,M2,Isentropic)
p01 = p02</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">StagnationPressure = 176229.0790781043 Pa</code></pre><p>We know that the throat is choked. It must be, because the flow is subsonic before and supersonic after the throat. Therefore, <span>$M_{th}$</span> is 1, and we can get the local pressure (<span>$p_{th}$</span>) from knowing the stagnation pressure and Mach number there:</p><pre><code class="language-julia hljs">Mth = MachNumber(1)
p0th = p02
pth = Pressure(p0th,Mth,Isentropic)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Pressure = 93098.61294313218 Pa</code></pre><p>Now we can calculate the conditions at the Pitot tube at the exit. At the nose of the Pitot tube, the flow stagnates. Thus, the pressure and temperature are equal to the stagnation values. The stagnation pressure at the exit is the same as the stagnation pressure at point 3 (just after the shock):</p><pre><code class="language-julia hljs">p03 = Pressure(p03_over_p02*p02)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Pressure = 127038.9367409336 Pa</code></pre><pre><code class="language-julia hljs">value(p03,u&quot;psi&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">18.425439988556167 psi</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../2-ConvergingDivergingNozzle/">« Quasi-1D flow in a converging-diverging nozzle</a><a class="docs-footer-nextpage" href="../4-FannoFlow/">Steady frictional flow through a constant-area duct »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 8 December 2023 05:45">Friday 8 December 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
