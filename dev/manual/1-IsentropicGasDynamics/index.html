<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Isentropic quasi-1D steady compressible flow · Gasdynamics1D.jl</title><meta name="title" content="Isentropic quasi-1D steady compressible flow · Gasdynamics1D.jl"/><meta property="og:title" content="Isentropic quasi-1D steady compressible flow · Gasdynamics1D.jl"/><meta property="twitter:title" content="Isentropic quasi-1D steady compressible flow · Gasdynamics1D.jl"/><meta name="description" content="Documentation for Gasdynamics1D.jl."/><meta property="og:description" content="Documentation for Gasdynamics1D.jl."/><meta property="twitter:description" content="Documentation for Gasdynamics1D.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Gasdynamics1D.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../0-BasicGasDynamics/">Basic Tools for Quasi-1D Steady Compressible Flow</a></li><li class="is-active"><a class="tocitem" href>Isentropic quasi-1D steady compressible flow</a></li><li><a class="tocitem" href="../2-ConvergingDivergingNozzle/">Quasi-1D flow in a converging-diverging nozzle</a></li><li><a class="tocitem" href="../3-NormalShocks/">Normal shocks</a></li><li><a class="tocitem" href="../4-FannoFlow/">Steady frictional flow through a constant-area duct</a></li><li><a class="tocitem" href="../5-RayleighFlow/">Steady flow through a duct with heat transfer</a></li><li><a class="tocitem" href="../functions/">Types and Functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Isentropic quasi-1D steady compressible flow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Isentropic quasi-1D steady compressible flow</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/UCLAMAEThreads/Gasdynamics1D.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/UCLAMAEThreads/Gasdynamics1D.jl/blob/main/test/literate/1-IsentropicGasDynamics.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Isentropic-quasi-1D-steady-compressible-flow"><a class="docs-heading-anchor" href="#Isentropic-quasi-1D-steady-compressible-flow">Isentropic quasi-1D steady compressible flow</a><a id="Isentropic-quasi-1D-steady-compressible-flow-1"></a><a class="docs-heading-anchor-permalink" href="#Isentropic-quasi-1D-steady-compressible-flow" title="Permalink"></a></h1><p>This notebook demonstrates the use of the compressible flow tools for computing states and processes in isentropic quasi-1d steady compressible flow.</p><h3 id="Set-up-the-module"><a class="docs-heading-anchor" href="#Set-up-the-module">Set up the module</a><a id="Set-up-the-module-1"></a><a class="docs-heading-anchor-permalink" href="#Set-up-the-module" title="Permalink"></a></h3><pre><code class="language-julia hljs">using Gasdynamics1D</code></pre><pre><code class="language-julia hljs">using Plots
using LaTeXStrings</code></pre><h3 id="Using-isentropic-relations"><a class="docs-heading-anchor" href="#Using-isentropic-relations">Using isentropic relations</a><a id="Using-isentropic-relations-1"></a><a class="docs-heading-anchor-permalink" href="#Using-isentropic-relations" title="Permalink"></a></h3><p>Let us apply some basic isentropic relations.</p><h4 id="Example-1"><a class="docs-heading-anchor" href="#Example-1">Example 1</a><a id="Example-1-1"></a><a class="docs-heading-anchor-permalink" href="#Example-1" title="Permalink"></a></h4><p>Let&#39;s suppose two states of the flow in air, 1 and 2, are connected with each other by an isentropic process. We know the pressure p1 is 101 kPa, the temperature T1 is 20 degrees C, and the pressure p2 is 80 kPa. What is temperature T2?</p><p>To answer this, we will use the relationship</p><p class="math-container">\[\dfrac{T_2}{T_1} = \left( \dfrac{p_2}{p_1}\right)^{(\gamma-1)/\gamma}\]</p><pre><code class="language-julia hljs">p1 = Pressure(101u&quot;kPa&quot;)
T1 = Temperature(20u&quot;°C&quot;)
p2 = Pressure(80u&quot;kPa&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Pressure = 80000.0 Pa</code></pre><p>First, let&#39;s set the pressure ratio:</p><pre><code class="language-julia hljs">p2_over_p1 = PressureRatio(p2/p1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">PressureRatio = 0.7920792079207921</code></pre><p>Now find the temperature ratio. Note below that we specify the argument <code>Isentropic</code> to make sure it is clear that we are using the isentropic relation. We only need this argument when it is needed for clarity.</p><pre><code class="language-julia hljs">T2_over_T1 = TemperatureRatio(p2_over_p1,Isentropic)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">TemperatureRatio = 0.9355709895748232</code></pre><p>It is important to understand that the tools &quot;know&quot; what formula you want to use (the one listed above), based on the fact that (a) you supplied it with a pressure ratio (the purpose of the <code>PressureRatio</code> line above), and (b) you told it that the process is <code>Isentropic</code>. It figures out the rest. Finally, calculate <span>$T_2 = T_1 (T_2/T_1)$</span>:</p><pre><code class="language-julia hljs">T2 = Temperature(T1*T2_over_T1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Temperature = 274.2626355938594 K</code></pre><p>or, in Celsius, if desired</p><pre><code class="language-julia hljs">value(T2,u&quot;°C&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1.1126355938594088 °C</code></pre><p>We could also do all of this in one line, though it is a bit harder to debug if something goes wrong:</p><pre><code class="language-julia hljs">T2 = Temperature(T1*TemperatureRatio(PressureRatio(p2/p1),Isentropic))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Temperature = 274.2626355938594 K</code></pre><h4 id="Example-2"><a class="docs-heading-anchor" href="#Example-2">Example 2</a><a id="Example-2-1"></a><a class="docs-heading-anchor-permalink" href="#Example-2" title="Permalink"></a></h4><p>If the temperature ratio <span>$T/T_0$</span> is 0.2381, what is the Mach number?</p><pre><code class="language-julia hljs">MachNumber(TemperatureRatio(0.2381),Isentropic)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MachNumber = 3.9999475007054572</code></pre><h4 id="Example-3"><a class="docs-heading-anchor" href="#Example-3">Example 3</a><a id="Example-3-1"></a><a class="docs-heading-anchor-permalink" href="#Example-3" title="Permalink"></a></h4><p>If the Mach number is 4.4 and stagnation pressure is 800 kPa, what is the pressure?</p><pre><code class="language-julia hljs">Pressure(StagnationPressure(800u&quot;kPa&quot;),MachNumber(4.4),Isentropic)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Pressure = 3134.1119713819485 Pa</code></pre><h3 id="Mach-area-relations"><a class="docs-heading-anchor" href="#Mach-area-relations">Mach - area relations</a><a id="Mach-area-relations-1"></a><a class="docs-heading-anchor-permalink" href="#Mach-area-relations" title="Permalink"></a></h3><p>A big part of isentropic quasi-1D flow deals with changes of the flow in variable-area ducts. For these calculations, we make use of the <em>sonic area</em> <span>$A_*$</span> as a reference area. Remember that, for any ratio of <span>$A/A_*$</span>, there are two possible Mach numbers, corresponding to a <strong>subsonic flow</strong> and a <strong>supersonic flow</strong>. Let us see that by plotting <span>$A/A_*$</span> versus Mach number <span>$M$</span>. If, for example, <span>$A/A_* = 2$</span>, then note where the dashed line crosses the plot:</p><pre><code class="language-julia hljs">Mrange = range(0,6,length=601)
Aratio = []
for M in Mrange
    push!(Aratio,value(AOverAStar(MachNumber(M),Isentropic)))
end

plot(Mrange,Aratio,xlim=(0,4),ylim=(0,12),yticks=0:1:12,xlabel=&quot;Mach number&quot;,ylabel=L&quot;A/A_*&quot;,legend=false)
scatter!([1],[1])
plot!(Mrange,2*ones(length(Mrange)),style=:dash)</code></pre><img src="df937a95.svg" alt="Example block output"/><h4 id="Example-4"><a class="docs-heading-anchor" href="#Example-4">Example 4</a><a id="Example-4-1"></a><a class="docs-heading-anchor-permalink" href="#Example-4" title="Permalink"></a></h4><p>What are the subsonic and supersonic Mach numbers associated with, for example, an area ratio <span>$A/A_*$</span> of 2 (the dashed line in the plot above)? We simply input the desired area ratio and find the two solutions:</p><pre><code class="language-julia hljs">M1, M2 = MachNumber(AreaRatio(2),Isentropic);</code></pre><pre><code class="language-julia hljs">M1</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MachNumber = 0.3059038341891081</code></pre><pre><code class="language-julia hljs">M2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MachNumber = 2.1971981216521868</code></pre><p>A related question: What is the local sonic reference area <span>$A_*$</span> when the Mach number is 7.1 and the local area is 50 sq cm?</p><p>We first compute <span>$A/A_*$</span> from <span>$M = 7.1$</span>, then compute <span>$A_* = A/(A/A_*)$</span>:</p><pre><code class="language-julia hljs">A = Area(50u&quot;cm^2&quot;)
M = MachNumber(7.1)
A_over_Astar = AOverAStar(M,Isentropic)
Astar = Area(A/A_over_Astar)
value(Astar,u&quot;cm^2&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0.4507312336039658 cm^2</code></pre><p>So the throat would have to be 0.45 sq cm, much smaller than 50 sq cm! Note that there is a convenience function to do those steps all in one:</p><pre><code class="language-julia hljs">value(AStar(A,M),u&quot;cm^2&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0.4507312336039658 cm^2</code></pre><h4 id="Example-5"><a class="docs-heading-anchor" href="#Example-5">Example 5</a><a id="Example-5-1"></a><a class="docs-heading-anchor-permalink" href="#Example-5" title="Permalink"></a></h4><p>Consider the flow of air through a converging-diverging nozzle, leaving a stagnant reservoir at pressure <span>$p_0$</span> = 700 kPa and temperature <span>$T_0 = 30$</span> degrees C. The Mach number at a location (1) in the converging section with area 50 sq cm is equal to 0.4. The exit of the nozzle has area 60 sq cm.</p><p>(a) What are the possible Mach numbers at the exit in choked isentropic conditions? What are the exit (i.e., &quot;back&quot;) pressures <span>$p_2$</span> associated with these two Mach numbers?</p><p>(b) What is the mass flow rate through the nozzle in these conditions?</p><p>First, we set the known values</p><pre><code class="language-julia hljs">p0 = StagnationPressure(700u&quot;kPa&quot;)
T0 = StagnationTemperature(30u&quot;°C&quot;)
A1 = Area(50u&quot;cm^2&quot;)
A2 = Area(60u&quot;cm^2&quot;)
M1 = MachNumber(0.4)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MachNumber = 0.4</code></pre><p>Now, we compute <span>$A_1/A_*$</span> from <span>$M_1$</span>. Use this to calculate <span>$A_*$</span> from <span>$A_1/(A_1/A_*)$</span>. Then calculate <span>$A_2/A_*$</span>:</p><pre><code class="language-julia hljs">A1_over_Astar = AOverAStar(M1,Isentropic,gas=Air)
Astar = Area(A1/A1_over_Astar)
A2_over_Astar = AreaRatio(A2/Astar)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">AreaRatio = 1.9081680000000003</code></pre><p>Now calculate the Mach numbers at location 2 (the nozzle exit):</p><pre><code class="language-julia hljs">M2sub = SubsonicMachNumber(A2_over_Astar,Isentropic,gas=Air);</code></pre><pre><code class="language-julia hljs">M2sup = SupersonicMachNumber(A2_over_Astar,Isentropic,gas=Air);</code></pre><p>Actually, all of the last few steps can be done in <em>one step</em> with a different version of the function <code>MachNumber</code>:</p><pre><code class="language-julia hljs">M2sub, M2sup = MachNumber(M1,A1,A2,Isentropic,gas=Air);</code></pre><p>Now let&#39;s determine the exit pressures (location 2) corresponding to these two Mach numbers:</p><pre><code class="language-julia hljs">p0_over_p2sub = P0OverP(M2sub,Isentropic,gas=Air)
p2sub = Pressure(p0/p0_over_p2sub)
value(p2sub,u&quot;kPa&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">651.301619254323 kPa</code></pre><pre><code class="language-julia hljs">p0_over_p2sup = P0OverP(M2sup,Isentropic,gas=Air)
p2sup = Pressure(p0/p0_over_p2sup)
value(p2sup,u&quot;kPa&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">71.48184181875564 kPa</code></pre><p>So if the exit pressure is 651 kPa, then the flow will remain choked and <strong>subsonic</strong> throughout, and if the exit pressure is 71.5 kPa, then the flow will remain choked and <strong>supersonic</strong> throughout.</p><p>Note that, because the flow is choked, the mass flow rate is the same for both of these cases. Let&#39;s calculate that mass flow rate (using <span>$\rho_1 u_1 A_1$</span>). We need <span>$\rho_1$</span> and <span>$u_1$</span>. First, calculate the stagnation density in this nozzle:</p><pre><code class="language-julia hljs">ρ0 = StagnationDensity(p0,T0,gas=Air) # this uses the perfect gas law</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">StagnationDensity = 8.045602474827321 kg m^-3</code></pre><p>Using <span>$M_1$</span>, find <span>$\rho_0/\rho_1$</span>:</p><pre><code class="language-julia hljs">ρ0_over_ρ1 = ρ0Overρ(M1,Isentropic,gas=Air)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DensityRatio = 1.0819301994280557</code></pre><p>So we can get <span>$\rho_1$</span> from <span>$\rho_0/(\rho_0/\rho_1)$</span>:</p><pre><code class="language-julia hljs">ρ1 = Density(ρ0/ρ0_over_ρ1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Density = 7.436341530239654 kg m^-3</code></pre><p>Now get <span>$u_1$</span> from <span>$M_1 c_1$</span>, where <span>$c_1$</span> is the speed of sound. For that, we need <span>$T_1$</span>:</p><pre><code class="language-julia hljs">T0_over_T1 = T0OverT(M1,Isentropic,gas=Air)
T1 = Temperature(T0/T0_over_T1)
c1 = SoundSpeed(T1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SoundSpeed = 343.55312544059313 m s^-1</code></pre><pre><code class="language-julia hljs">u1 = Velocity(M1*c1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Velocity = 137.42125017623727 m s^-1</code></pre><p>And now we can put it all together:</p><pre><code class="language-julia hljs">mdot = MassFlowRate(ρ1*u1*A1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MassFlowRate = 5.109556749115033 kg s^-1</code></pre><p>So the mass flow rate is stuck at 5.1 kg/s</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../0-BasicGasDynamics/">« Basic Tools for Quasi-1D Steady Compressible Flow</a><a class="docs-footer-nextpage" href="../2-ConvergingDivergingNozzle/">Quasi-1D flow in a converging-diverging nozzle »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 8 December 2023 05:40">Friday 8 December 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
