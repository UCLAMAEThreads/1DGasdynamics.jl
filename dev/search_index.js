var documenterSearchIndex = {"docs":
[{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"EditURL = \"../../../test/literate/3-NormalShocks.jl\"","category":"page"},{"location":"manual/3-NormalShocks/#Normal-shocks","page":"Normal shocks","title":"Normal shocks","text":"","category":"section"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"In the last notebook, we saw that normal shocks develop in a nozzle when it is not perfectly expanded. This notebook demonstrates the use of the compressible tools for dealing with normal shock waves.","category":"page"},{"location":"manual/3-NormalShocks/#Set-up-the-module","page":"Normal shocks","title":"Set up the module","text":"","category":"section"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"using Gasdynamics1D","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"using Plots","category":"page"},{"location":"manual/3-NormalShocks/#General-use-of-normal-shock-relations","page":"Normal shocks","title":"General use of normal shock relations","text":"","category":"section"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"Normal shock relations are designated with the argument NormalShock. For example, let's look at the ratio of stagnation pressures p_02p_01 across a normal shock  with the Mach number M_1 entering the shock equal to 2:","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"p02_over_p01 = StagnationPressureRatio(MachNumber(2),NormalShock)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"and the density rho_2rho_1 increases by the factor:","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"ρ2_over_ρ1 = DensityRatio(MachNumber(2),NormalShock)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"What is the entropy change across this shock?","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"s2_minus_s1 = Entropy(Entropy(0),MachNumber(2),NormalShock)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"Let's plot the entropy increase as a function of Mach number:","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"M1 = range(1,3,length=101)\ns2 = []\npratio = []\nfor M in M1\n    push!(s2,ustrip(Entropy(Entropy(0),MachNumber(M),NormalShock)))\n    push!(pratio,ustrip(PressureRatio(MachNumber(M),NormalShock)))\nend","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"plot(M1,s2,xlim=(1,3),ylim=(0,400),xlabel=\"Mach number\",ylabel=\"Entropy increase (J/kgK)\")","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"Not surprisingly, the entropy jump gets bigger as the Mach number increases","category":"page"},{"location":"manual/3-NormalShocks/#Example-1","page":"Normal shocks","title":"Example 1","text":"","category":"section"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"For air entering a shock at Mach number 3, 1 atm, and 50 degrees F, what are the Mach number, pressure, and temperature on the other side of the shock?","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"p1 = Pressure(1u\"atm\")\nM1 = MachNumber(3)\nT1 = Temperature(50u\"°F\")","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"The Mach number exiting the shock is","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"M2 = MachNumber(M1,NormalShock)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"Pressure exiting the shock (in atm) is","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"p2 = Pressure(p1*PressureRatio(M1,NormalShock))\nvalue(p2,u\"atm\")","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"and the temperature exiting the shock (in F) is","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"T2 = Temperature(T1*TemperatureRatio(M1,NormalShock))\nvalue(T2,u\"°F\")","category":"page"},{"location":"manual/3-NormalShocks/#Example-2","page":"Normal shocks","title":"Example 2","text":"","category":"section"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"A blow-down supersonic windtunnel is supplied with air from a large reservoir. A Pitot tube is placed at the exit plane of a converging-diverging nozzle. The test section lies at the end of the diverging section. The Mach number in the test section (M2) is 2 and the pressure is below atmospheric, so a shock is formed at the exit. The pressure just after the shock (p3) is 14.7 psi. Find the pressure in the reservoir (p01), the pressure in the throat (pth), the Mach number just after the shock (M3), the pressure at the Pitot tube (p4), and the temperature at the Pitot  tube (T4).","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"M2 = MachNumber(2)\np3 = Pressure(14.7u\"psi\")","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"First, let's find the pressure just before the shock and the Mach number just after the shock p3/p2","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"p3_over_p2 = PressureRatio(M2,NormalShock)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"p03/p02","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"p03_over_p02 = StagnationPressureRatio(M2,NormalShock)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"M3","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"M3 = MachNumber(M2,NormalShock)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"We can now calculate the pressure just before the shock, using p_2 = p_3(p_3p_2)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"p2 = Pressure(p3/p3_over_p2)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"Now, let's find the conditions in the throat and reservoir, based on what we have  been given here. We can immediately find the stagnation pressure upstream of the  shock using the isentropic relation. This stagnation pressure is the same as the  reservoir pressure.","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"p02 = StagnationPressure(p2,M2,Isentropic)\np01 = p02","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"We know that the throat is choked. It must be, because the flow is subsonic before and supersonic after the throat. Therefore, M_th is 1, and we can get the local pressure (p_th) from knowing the stagnation pressure and Mach number there:","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"Mth = MachNumber(1)\np0th = p02\npth = Pressure(p0th,Mth,Isentropic)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"Now we can calculate the conditions at the Pitot tube at the exit. At the nose of the Pitot tube, the flow stagnates. Thus, the pressure and temperature are equal to the stagnation values. The stagnation pressure at the exit is the same as the stagnation pressure at point 3 (just after the shock):","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"p03 = Pressure(p03_over_p02*p02)","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"value(p03,u\"psi\")","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"","category":"page"},{"location":"manual/3-NormalShocks/","page":"Normal shocks","title":"Normal shocks","text":"This page was generated using Literate.jl.","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"EditURL = \"../../../test/literate/0-BasicGasDynamics.jl\"","category":"page"},{"location":"manual/0-BasicGasDynamics/#Basic-Tools-for-Quasi-1D-Steady-Compressible-Flow","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"","category":"section"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"This notebook demonstrates the basic syntax for some tools for computing quasi-1d steady compressible flow.","category":"page"},{"location":"manual/0-BasicGasDynamics/#Set-up-the-module","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Set up the module","text":"","category":"section"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"using Gasdynamics1D","category":"page"},{"location":"manual/0-BasicGasDynamics/#Setting-basic-properties-and-states","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Setting basic properties and states","text":"","category":"section"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"We can set thermodynamic properties and states in a straightforward manner. However, it is important to remember that we have to explicitly define the type of property or state we are setting. Examples below will show how this works.","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Let's say we wish to set the pressure to 10000 Pa. Pascals are the default units of pressure, as can be verified by using the default_unit function:","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"default_unit(Pressure)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"So if we do not specify the unit, it is automatically set to the default unit:","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Pressure(10000)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"We can set a quantity with another unit using the syntax u\"[unit]\". For example, if we set pressure to 1 atm, it will still convert it to the default unit.","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"p = Pressure(1u\"atm\")","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"However, we can always report the quantity in some desired units with the value function:","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"value(p,u\"atm\")","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"value(p,u\"psi\")","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"value(p,u\"kPa\")","category":"page"},{"location":"manual/0-BasicGasDynamics/#Other-thermodynamic-quantities","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Other thermodynamic quantities","text":"","category":"section"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"We can set most any other thermodynamic quantity in similar fashion:","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"T = Temperature(20u\"°C\")","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"T0 = StagnationTemperature(20)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"MachNumber(2.0)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Enthalpy(50)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Entropy(10)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Area(50u\"cm^2\")","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Length(5)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"and others...","category":"page"},{"location":"manual/0-BasicGasDynamics/#Gas-properties","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Gas properties","text":"","category":"section"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"We can set the properties of the gas that we are analyzing. (Note: It is assumed that the gas is perfect.)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"SpecificHeatRatio(1.3)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"GasConstant(320)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"and we can define a gas with these values:","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"gas = PerfectGas(γ=SpecificHeatRatio(1.3),R=GasConstant(320))","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"We have pre-defined gases (at standard conditions), as well, for convenience:","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Air","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"He","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"O2","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"CO2","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"H2","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"N2","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Ar","category":"page"},{"location":"manual/0-BasicGasDynamics/#Equations-of-state","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Equations of state","text":"","category":"section"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"We can apply the equation of state for a perfect gas to determine other quantities. For example, suppose we have carbon dioxide at 1.2 kg/m^3 and 80 kPa. What is the temperature?","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"T = Temperature(Density(1.2),Pressure(80u\"kPa\"),gas=CO2)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"You can switch the order of the arguments and it will still work:","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"T = Temperature(Pressure(80u\"kPa\"),Density(1.2),gas=CO2)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Then we can calculate the enthalpy, for example:","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Enthalpy(T,gas=CO2)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"What is the speed of sound of air at 20 degrees Celsius? Let's find out:","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"SoundSpeed(Temperature(20u\"°C\"),gas=Air)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"How about oxygen?","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"SoundSpeed(Temperature(20u\"°C\"),gas=O2)","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"Note: the default gas is air. So if you do not put the gas= argument in, it will assume air at standard conditions.","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"","category":"page"},{"location":"manual/0-BasicGasDynamics/","page":"Basic Tools for Quasi-1D Steady Compressible Flow","title":"Basic Tools for Quasi-1D Steady Compressible Flow","text":"This page was generated using Literate.jl.","category":"page"},{"location":"manual/functions/#Types-and-Functions","page":"Types and Functions","title":"Types and Functions","text":"","category":"section"},{"location":"manual/functions/","page":"Types and Functions","title":"Types and Functions","text":"CurrentModule = Gasdynamics1D","category":"page"},{"location":"manual/functions/","page":"Types and Functions","title":"Types and Functions","text":"Modules = [Gasdynamics1D]\nOrder   = [:type, :function]","category":"page"},{"location":"manual/functions/#ThermofluidQuantities.Density-Tuple{Pressure, Temperature}","page":"Types and Functions","title":"ThermofluidQuantities.Density","text":"Density(T::Temperature,p::Pressure[;gas=Air])\n\nCompute the density from the temperature T and pressure p, using\n\nrho = p(rho T)\n\nCan also switch the order of the arguments.\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.Density-Tuple{StagnationDensity, MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.Density","text":"Density(ρ0::StagnationDensity,M::MachNumber,Isentropic[;gas=Air])\n\nCompute the density corresponding to stagnation density ρ0 and Mach number M, using\n\nrho = rho_0 left( 1 + dfracgamma-12 M^2right)^-1(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.DensityRatio-Tuple{MachNumber, Type{NormalShock}}","page":"Types and Functions","title":"ThermofluidQuantities.DensityRatio","text":"DensityRatio(M1::MachNumber,NormalShock[;gas=Air])\n\nReturn the ratio of densities after and before a normal shock, given the Mach number M1 before the shock, using the equation\n\ndfracrho_2rho_1 = dfrac(gamma+1)M_1^22+(gamma-1)M_1^2\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.DensityRatio-Tuple{PressureRatio, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.DensityRatio","text":"DensityRatio(pr::PressureRatio,Isentropic[;gas=Air])\n\nCompute the ratio of densities between two points connected isentropically, given the ratio of pressures pr between those two points, using the isentropic relation\n\ndfracrho_2rho_1 = left(dfracp_2p_1right)^1gamma\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.DensityRatio-Tuple{TemperatureRatio, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.DensityRatio","text":"DensityRatio(Tr::TemperatureRatio,Isentropic[;gas=Air])\n\nCompute the ratio of densities between two points connected isentropically, given the ratio of temperatures Tr between those two points, using the isentropic relation\n\ndfracrho_2rho_1 = left(dfracT_2T_1right)^1(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.Entropy-Tuple{Entropy, MachNumber, Type{NormalShock}}","page":"Types and Functions","title":"ThermofluidQuantities.Entropy","text":"Entropy(s1::Entropy,M1::MachNumber,NormalShock[;gas=Air])\n\nReturn the entropy after a normal shock, given the entropy before the shock s1 and the Mach number before the shock M1, using the equation\n\ns_2 - s_1 = c_v ln left(1 + dfrac2gammagamma+1(M_1^2-1)right) - c_p ln left( dfrac(gamma+1)M_1^22+(gamma-1)M_1^2right)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.HeatFlux-Tuple{StagnationTemperature, StagnationTemperature}","page":"Types and Functions","title":"ThermofluidQuantities.HeatFlux","text":"HeatFlux(T01::StagnationTemperature,T02::StagnationTemperature[;gas=Air])\n\nCompute the heat flux required to change stagnation temperature T01 to stagnation temperature T02, using\n\nq = c_p(T_02 - T_01)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.MachNumber-Tuple{AreaRatio, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.MachNumber","text":"MachNumber(A_over_Astar::AreaRatio,Isentropic[;gas=Air]) -> MachNumber, MachNumber\n\nCompute the subsonic and supersonic Mach numbers for the given ratio of area to sonic area A_over_Astar by solving the equation\n\ndfracAA^* = dfrac1M left( dfrac2gamma+1 left( 1 + dfracgamma-12M^2right)right)^(gamma+1)2(gamma-1)\n\nCan omit the Isentropic argument.\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.MachNumber-Tuple{DensityRatio, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.MachNumber","text":"MachNumber(ρ_over_ρ0::DensityRatio,Isentropic[;gas=Air])\n\nCompute the Mach number corresponding to the ratio of density to stagnation density ρ_over_ρ0, using\n\nM = left( dfrac2gamma-1left(dfrac1(rhorho_0)^(gamma-1) - 1 right)right)^12\n\nCan also supply the arguments for ρ and ρ0 separately, MachNumber(ρ,ρ0)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.MachNumber-Tuple{FLOverD, Type{FannoFlow}}","page":"Types and Functions","title":"ThermofluidQuantities.MachNumber","text":"MachNumber(fL_over_D::FLOverD,FannoFlow[;gas=Air]) -> MachNumber, MachNumber\n\nCompute the subsonic and supersonic Mach numbers, given the ratio friction factor times distance to sonic point, divided by diameter, fL_over_D, by solving the equation\n\ndfracfL^*D = dfrac1-M^2gamma M^2 + dfracgamma+12gamma ln left(dfrac(gamma+1)M^22+(gamma-1)M^2right)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.MachNumber-Tuple{MachNumber, Area, Area, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.MachNumber","text":"MachNumber(M1::MachNumber,A1::AreaRatio,A2::AreaRatio,Isentropic[;gas=Air]) -> MachNumber, MachNumber\n\nCompute the subsonic and supersonic Mach numbers at location 2 with area A2, when location 1 has Mach number M1 and area A1.\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.MachNumber-Tuple{MachNumber, Type{NormalShock}}","page":"Types and Functions","title":"ThermofluidQuantities.MachNumber","text":"MachNumber(M1::MachNumber,NormalShock[;gas=Air])\n\nReturn the Mach number after a normal shock, given the Mach number M1 before the shock, using the equation\n\nM_2^2 = dfrac2 + (gamma-1)M_1^22gamma M_1^2 - (gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.MachNumber-Tuple{PressureRatio, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.MachNumber","text":"MachNumber(p_over_p0::PressureRatio,Isentropic[;gas=Air])\n\nCompute the Mach number corresponding to the ratio of pressure to stagnation pressure p_over_p0, using\n\nM = left( dfrac2gamma-1left(dfrac1(pp_0)^(gamma-1)gamma - 1 right)right)^12\n\nCan also supply the arguments for p and p0 separately, MachNumber(p,p0)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.MachNumber-Tuple{TemperatureRatio, Type{FannoFlow}}","page":"Types and Functions","title":"ThermofluidQuantities.MachNumber","text":"MachNumber(T_over_Tstar::TemperatureRatio,FannoFlow[;gas=PerfectGas])\n\nCompute the Mach number for a given ratio of temperature to the sonic temperature T_over_Tstar in Fanno flow, from the solution of\n\ndfracTT^* = dfracgamma+12+(gamma-1)M^2\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.MachNumber-Tuple{TemperatureRatio, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.MachNumber","text":"MachNumber(T_over_T0::TemperatureRatio,Isentropic[;gas=Air])\n\nCompute the Mach number corresponding to the ratio of temperature to stagnation temperature T_over_T0, using\n\nM = left( dfrac2gamma-1left(dfrac1TT_0 - 1 right)right)^12\n\nCan also omit the Isentropic argument, MachNumber(T_over_T0). Can also  supply the arguments for T and T0 separately, MachNumber(T,T0)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.Pressure-Tuple{Density, Temperature}","page":"Types and Functions","title":"ThermofluidQuantities.Pressure","text":"Pressure(T::Temperature,ρ::Density[;gas=Air])\n\nCompute the pressure from the temperature T and density ρ, using\n\np = rho R T\n\nCan also switch the order of the arguments.\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.Pressure-Tuple{StagnationPressure, MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.Pressure","text":"Pressure(p0::StagnationPressure,M::MachNumber,Isentropic[;gas=Air])\n\nCompute the pressure corresponding to stagnation pressure p0 and Mach number M, using\n\np = p_0 left( 1 + dfracgamma-12 M^2right)^-gamma(gamma-1)\n\nCan also omit the Isentropic argument, Temperature(T0,M).\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.PressureRatio-Tuple{DensityRatio, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.PressureRatio","text":"PressureRatio(dr::DensityRatio,Isentropic[;gas=Air])\n\nCompute the ratio of pressures between two points connected isentropically, given the ratio of densities dr between those two points, using the isentropic relation\n\ndfracp_2p_1 = left(dfracrho_2rho_1right)^gamma\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.PressureRatio-Tuple{MachNumber, Type{NormalShock}}","page":"Types and Functions","title":"ThermofluidQuantities.PressureRatio","text":"PressureRatio(M1::MachNumber,NormalShock[;gas=Air])\n\nReturn the ratio of pressures after and before a normal shock, given the Mach number M1 before the shock, using the equation\n\ndfracp_2p_1 = 1 + 2dfracgammagamma+1(M_1^2-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.PressureRatio-Tuple{TemperatureRatio, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.PressureRatio","text":"PressureRatio(Tr::TemperatureRatio,Isentropic[;gas=Air])\n\nCompute the ratio of temperatures between two points connected isentropically, given the ratio of densities dr between those two points, using the isentropic relation\n\ndfracp_2p_1 = left(dfracT_2T_1right)^gamma(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.SoundSpeed-Tuple{Temperature}","page":"Types and Functions","title":"ThermofluidQuantities.SoundSpeed","text":"SoundSpeed(T::Temperature[,γ::SpecificHeatRatio=1.4][,R::GasConstant=287])\n\nCompute the speed of sound of a perfect gas, based on the absolute temperature T. The ratio of specific heats γ and R can also be supplied, but default to the values for air at standard conditions (1.4 and 287 J/kg.K, respectively).\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.StagnationDensity-Tuple{Density, MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.StagnationDensity","text":"StagnationDensity(ρ::Density,M::MachNumber,Isentropic[;gas=Air])\n\nCompute the stagnation density corresponding to density ρ and Mach number M, using\n\nrho_0 = rho left( 1 + dfracgamma-12 M^2right)^1(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.StagnationDensity-Tuple{StagnationPressure, StagnationTemperature}","page":"Types and Functions","title":"ThermofluidQuantities.StagnationDensity","text":"StagnationDensity(T0::StagnationTemperature,p0::StagnationPressure[;gas=Air])\n\nCompute the stagnation density from the stagnation temperature T0 and stagnation pressure p0, using\n\nrho_0 = p_0(rho T_0)\n\nCan also switch the order of the arguments.\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.StagnationPressure-Tuple{Pressure, MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.StagnationPressure","text":"StagnationPressure(p::Pressure,M::MachNumber,Isentropic[;gas=Air])\n\nCompute the stagnation pressure corresponding to pressure p and Mach number M, using\n\np_0 = p left( 1 + dfracgamma-12 M^2right)^gamma(gamma-1)\n\nCan also omit the Isentropic argument, StagnationTemperature(T,M).\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.StagnationPressure-Tuple{StagnationDensity, StagnationTemperature}","page":"Types and Functions","title":"ThermofluidQuantities.StagnationPressure","text":"StagnationPressure(T0::StagnationTemperature,ρ0::StagnationDensity[;gas=Air])\n\nCompute the stagnation pressure from the stagnation temperature T0 and stagnation density ρ0, using\n\np_0 = rho R T_0\n\nCan also switch the order of the arguments.\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.StagnationPressureRatio-Tuple{MachNumber, Type{NormalShock}}","page":"Types and Functions","title":"ThermofluidQuantities.StagnationPressureRatio","text":"StagnationPressureRatio(M1::MachNumber,NormalShock[;gas=Air])\n\nReturn the ratio of stagnation pressures after and before a normal shock, given the Mach number M1 before the shock, using the equation\n\ndfracp_02p_01 = left(dfrac(gamma+1)M_1^22+(gamma-1)M_1^2right)^gamma(gamma-1) left(dfracgamma+12gamma M_1^2 - (gamma-1)right)^1(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.StagnationTemperature-Tuple{StagnationDensity, StagnationPressure}","page":"Types and Functions","title":"ThermofluidQuantities.StagnationTemperature","text":"StagnationTemperature(ρ0::StagnationDensity,p0::StagnationPressure[;gas=Air])\n\nCompute the stagnation temperature from the stagnation density ρ0 and stagnation pressure p0, using\n\nT_0 = p_0(rho_0 R)\n\nCan also switch the order of the arguments.\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.StagnationTemperature-Tuple{Temperature, MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.StagnationTemperature","text":"StagnationTemperature(T::Temperature,M::MachNumber,Isentropic[;gas=Air])\n\nCompute the stagnation temperature corresponding to temperature T and Mach number M, using\n\nT_0 = T left( 1 + dfracgamma-12 M^2right)\n\nCan also omit the Isentropic argument, StagnationTemperature(T,M).\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.Temperature-Tuple{Density, Pressure}","page":"Types and Functions","title":"ThermofluidQuantities.Temperature","text":"Temperature(ρ::Density,p::Pressure[;gas=Air])\n\nCompute the temperature from the density ρ and pressure p, using\n\nT = p(rho R)\n\nCan also switch the order of the arguments.\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.Temperature-Tuple{StagnationTemperature, MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.Temperature","text":"Temperature(T0::StagnationTemperature,M::MachNumber,Isentropic[;gas=Air])\n\nCompute the temperature corresponding to stagnation temperature T0 and Mach number M, using\n\nT = T_0 left( 1 + dfracgamma-12 M^2right)^-1\n\nCan also omit the Isentropic argument, Temperature(T0,M).\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.TemperatureRatio-Tuple{DensityRatio, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.TemperatureRatio","text":"TemperatureRatio(dr::DensityRatio,Isentropic[;gas=Air])\n\nCompute the ratio of temperatures between two points connected isentropically, given the ratio of densities dr between those two points, using the isentropic relation\n\ndfracT_2T_1 = left(dfracrho_2rho_1right)^gamma-1\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.TemperatureRatio-Tuple{MachNumber, Type{NormalShock}}","page":"Types and Functions","title":"ThermofluidQuantities.TemperatureRatio","text":"TemperatureRatio(M1::MachNumber,NormalShock[;gas=Air])\n\nReturn the ratio of temperatures after and before a normal shock, given the Mach number M1 before the shock, using the equation\n\ndfracT_2T_1 = 1 + 2dfrac(gamma-1)(gamma+1)^2dfrac(1+gamma M_1^2)(M_1^2-1)M_1^2\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#ThermofluidQuantities.TemperatureRatio-Tuple{PressureRatio, Type{Isentropic}}","page":"Types and Functions","title":"ThermofluidQuantities.TemperatureRatio","text":"TemperatureRatio(pr::PressureRatio,Isentropic[;gas=Air])\n\nCompute the ratio of temperatures between two points connected isentropically, given the ratio of pressures pr between those two points, using the isentropic relation\n\ndfracT_2T_1 = left(dfracp_2p_1right)^(gamma-1)gamma\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.AOverAStar-Tuple{MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"Gasdynamics1D.AOverAStar","text":"AOverAStar(M::MachNumber,Isentropic[;gas=Air]) -> AreaRatio\n\nCompute the ratio of local area to the sonic area for the given Mach number M, using\n\ndfracAA^* = dfrac1M left( dfrac2gamma+1 left( 1 + dfracgamma-12M^2right)right)^(gamma+1)2(gamma-1)\n\nCan omit the Isentropic argument.\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.AStar-Tuple{Area, MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"Gasdynamics1D.AStar","text":"AStar(A::Area,M::MachNumber,Isentropic[;gas=Air]) -> Area\n\nCompute the sonic area for the given area A and Mach number M, using\n\nA^* = A M left( dfrac2gamma+1 left( 1 + dfracgamma-12M^2right)right)^-(gamma+1)2(gamma-1)\n\nCan omit the Isentropic argument.\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.FLStarOverD-Tuple{MachNumber, Type{FannoFlow}}","page":"Types and Functions","title":"Gasdynamics1D.FLStarOverD","text":"FLStarOverD(M::MachNumber,FannoFlow[;gas=Air])\n\nCompute the friction factor times distance to sonic point, divided by diameter, for the given Mach number M, using the equation\n\ndfracfL^*D = dfrac1-M^2gamma M^2 + dfracgamma+12gamma ln left(dfrac(gamma+1)M^22+(gamma-1)M^2right)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.P0OverP-Tuple{MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"Gasdynamics1D.P0OverP","text":"    P0OverP(M::MachNumber,Isentropic[;gas=PerfectGas]) -> PressureRatio\n\nCompute the ratio of stagnation pressure to pressure for Mach number M.\n\ndfracp_0p = left(1 + dfracgamma-12M^2 right)^gamma(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.P0OverP0Star-Tuple{MachNumber, Type{FannoFlow}}","page":"Types and Functions","title":"Gasdynamics1D.P0OverP0Star","text":"P0OverP0Star(M::MachNumber,FannoFlow[;gas=PerfectGas]) -> StagnationPressureRatio\n\nCompute the ratio of stagnation pressure to the sonic stagnation pressure in Fanno flow, given Mach number M, from\n\ndfracp_0p_0^* = dfrac1M left(dfrac2+(gamma-1)M^2gamma+1right)^(gamma+1)2(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.P0OverP0Star-Tuple{MachNumber, Type{RayleighFlow}}","page":"Types and Functions","title":"Gasdynamics1D.P0OverP0Star","text":"P0OverP0Star(M::MachNumber,RayleighFlow[;gas=Air]) -> PressureRatio\n\nCompute the ratio of stagnation pressure to sonic stagnation pressure for the given Mach number for Rayleigh flow, using the equation\n\ndfracp_0p_0^* = dfrac(gamma+1)1+gamma M^2 left left( dfrac1gamma+1 right)left(2 + (gamma-1) M^2right)right^gamma(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.POverPStar-Tuple{MachNumber, Type{FannoFlow}}","page":"Types and Functions","title":"Gasdynamics1D.POverPStar","text":"POverPStar(M::MachNumber,FannoFlow[;gas=PerfectGas]) -> PressureRatio\n\nCompute the ratio of pressure to the sonic pressure in Fanno flow, given Mach number M, from\n\ndfracpp^* = dfrac1M left(dfrac1+gamma2+(gamma-1)M^2right)^12\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.POverPStar-Tuple{MachNumber, Type{RayleighFlow}}","page":"Types and Functions","title":"Gasdynamics1D.POverPStar","text":"POverPStar(M::MachNumber,RayleighFlow[;gas=Air]) -> PressureRatio\n\nCompute the ratio of pressure to sonic pressure for the given Mach number for Rayleigh flow, using the equation\n\ndfracpp^* = dfracgamma+11+gamma M^2\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.SubsonicMachNumber-Tuple{AreaRatio, Type{Isentropic}}","page":"Types and Functions","title":"Gasdynamics1D.SubsonicMachNumber","text":"SubsonicMachNumber(A_over_Astar::AreaRatio,Isentropic[;gas=Air]) -> MachNumber\n\nCompute the subsonic Mach number for the given ratio of area to sonic area A_over_Astar by solving the equation\n\ndfracAA^* = dfrac1M left( dfrac2gamma+1 left( 1 + dfracgamma-12M^2right)right)^(gamma+1)2(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.SubsonicMachNumber-Tuple{FLOverD, Type{FannoFlow}}","page":"Types and Functions","title":"Gasdynamics1D.SubsonicMachNumber","text":"SubsonicMachNumber(fL_over_D::FLOverD,FannoFlow[;gas=Air]) -> MachNumber\n\nCompute the subsonic Mach number, given the ratio friction factor times distance to sonic point, divided by diameter, fL_over_D, by solving the equation\n\ndfracfL^*D = dfrac1-M^2gamma M^2 + dfracgamma+12gamma ln left(dfrac(gamma+1)M^22+(gamma-1)M^2right)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.SupersonicMachNumber-Tuple{AreaRatio, Type{Isentropic}}","page":"Types and Functions","title":"Gasdynamics1D.SupersonicMachNumber","text":"SupersonicMachNumber(A_over_Astar::AreaRatio,Isentropic[;gas=Air]) -> MachNumber\n\nCompute the supersonic Mach number for the given ratio of area to sonic area A_over_Astar by solving the equation\n\ndfracAA^* = dfrac1M left( dfrac2gamma+1 left( 1 + dfracgamma-12M^2right)right)^(gamma+1)2(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.SupersonicMachNumber-Tuple{FLOverD, Type{FannoFlow}}","page":"Types and Functions","title":"Gasdynamics1D.SupersonicMachNumber","text":"SupersonicMachNumber(fL_over_D::FLOverD,FannoFlow[;gas=Air]) -> MachNumber\n\nCompute the supersonic Mach number, given the ratio friction factor times distance to sonic point, divided by diameter, fL_over_D, by solving the equation\n\ndfracfL^*D = dfrac1-M^2gamma M^2 + dfracgamma+12gamma ln left(dfrac(gamma+1)M^22+(gamma-1)M^2right)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.T0OverT-Tuple{MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"Gasdynamics1D.T0OverT","text":"    T0OverT(M::MachNumber,Isentropic[;gas=PerfectGas]) -> TemperatureRatio\n\nCompute the ratio of stagnation temperature to temperature for Mach number M.\n\ndfracT_0T = 1 + dfracgamma-12M^2\n\nCan also omit the Isentropic argument, T0OverT(M)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.T0OverT0Star-Tuple{MachNumber, Type{RayleighFlow}}","page":"Types and Functions","title":"Gasdynamics1D.T0OverT0Star","text":"T0OverT0Star(M::MachNumber,RayleighFlow[;gas=Air]) -> TemperatureRatio\n\nCompute the ratio of stagnation temperature to sonic stagnation temperature for the given Mach number for Rayleigh flow, using the equation\n\ndfracT_0T_0^* = dfrac(gamma+1)M^2 (2 + (gamma-1)M^2)(1+gamma M^2)^2\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.TOverTStar-Tuple{MachNumber, Type{FannoFlow}}","page":"Types and Functions","title":"Gasdynamics1D.TOverTStar","text":"TOverTStar(M::MachNumber,FannoFlow[;gas=PerfectGas]) -> TemperatureRatio\n\nCompute the ratio of temperature to the sonic temperature in Fanno flow, given Mach number M, from\n\ndfracTT^* =dfracgamma+12+(gamma-1)M^2\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.TOverTStar-Tuple{MachNumber, Type{RayleighFlow}}","page":"Types and Functions","title":"Gasdynamics1D.TOverTStar","text":"TOverTStar(M::MachNumber,RayleighFlow[;gas=Air]) -> TemperatureRatio\n\nCompute the ratio of temperature to sonic temperature for the given Mach number for Rayleigh flow, using the equation\n\ndfracTT^* = dfrac(gamma+1)^2 M^2(1+gamma M^2)^2\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.VOverVStar-Tuple{MachNumber, Type{RayleighFlow}}","page":"Types and Functions","title":"Gasdynamics1D.VOverVStar","text":"VOverVStar(M::MachNumber,RayleighFlow[;gas=Air]) -> VelocityRatio\n\nCompute the ratio of velocity to sonic velocity for the given Mach number for Rayleigh flow, using the equation\n\ndfracVV^* = dfrac(gamma+1)M^21+gamma M^2\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.ρ0Overρ-Tuple{MachNumber, Type{Isentropic}}","page":"Types and Functions","title":"Gasdynamics1D.ρ0Overρ","text":"    ρ0Overρ(M::MachNumber,Isentropic[;gas=PerfectGas]) -> DensityRatio\n\nCompute the ratio of stagnation density to density for Mach number M.\n\ndfracrho_0rho = left(1 + dfracgamma-12M^2 right)^1(gamma-1)\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.ρOverρStar-Tuple{MachNumber, Type{FannoFlow}}","page":"Types and Functions","title":"Gasdynamics1D.ρOverρStar","text":"ρOverρStar(M::MachNumber,FannoFlow[;gas=PerfectGas]) -> DensityRatio\n\nCompute the ratio of density to the sonic density in Fanno flow, given Mach number M, from\n\ndfracrhorho^* = dfrac1M left(dfrac2+(gamma-1)M^2gamma+1right)^12\n\n\n\n\n\n","category":"method"},{"location":"manual/functions/#Gasdynamics1D.ρOverρStar-Tuple{MachNumber, Type{RayleighFlow}}","page":"Types and Functions","title":"Gasdynamics1D.ρOverρStar","text":"ρOverρStar(M::MachNumber,RayleighFlow[;gas=Air]) -> DensityRatio\n\nCompute the ratio of density to sonic density for the given Mach number for Rayleigh flow, using the equation\n\ndfracrhorho^* = dfrac1+gamma M^2(gamma+1)M^2\n\n\n\n\n\n","category":"method"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"EditURL = \"../../../test/literate/1-IsentropicGasDynamics.jl\"","category":"page"},{"location":"manual/1-IsentropicGasDynamics/#Isentropic-quasi-1D-steady-compressible-flow","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"","category":"section"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"This notebook demonstrates the use of the compressible flow tools for computing states and processes in isentropic quasi-1d steady compressible flow.","category":"page"},{"location":"manual/1-IsentropicGasDynamics/#Set-up-the-module","page":"Isentropic quasi-1D steady compressible flow","title":"Set up the module","text":"","category":"section"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"using Gasdynamics1D","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"using Plots\nusing LaTeXStrings","category":"page"},{"location":"manual/1-IsentropicGasDynamics/#Using-isentropic-relations","page":"Isentropic quasi-1D steady compressible flow","title":"Using isentropic relations","text":"","category":"section"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Let us apply some basic isentropic relations.","category":"page"},{"location":"manual/1-IsentropicGasDynamics/#Example-1","page":"Isentropic quasi-1D steady compressible flow","title":"Example 1","text":"","category":"section"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Let's suppose two states of the flow in air, 1 and 2, are connected with each other by an isentropic process. We know the pressure p1 is 101 kPa, the temperature T1 is 20 degrees C, and the pressure p2 is 80 kPa. What is temperature T2?","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"To answer this, we will use the relationship","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"dfracT_2T_1 = left( dfracp_2p_1right)^(gamma-1)gamma","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"p1 = Pressure(101u\"kPa\")\nT1 = Temperature(20u\"°C\")\np2 = Pressure(80u\"kPa\")","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"First, let's set the pressure ratio:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"p2_over_p1 = PressureRatio(p2/p1)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Now find the temperature ratio. Note below that we specify the argument Isentropic to make sure it is clear that we are using the isentropic relation. We only need this argument when it is needed for clarity.","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"T2_over_T1 = TemperatureRatio(p2_over_p1,Isentropic)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"It is important to understand that the tools \"know\" what formula you want to use (the one listed above), based on the fact that (a) you supplied it with a pressure ratio (the purpose of the PressureRatio line above), and (b) you told it that the process is Isentropic. It figures out the rest. Finally, calculate T_2 = T_1 (T_2T_1):","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"T2 = Temperature(T1*T2_over_T1)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"or, in Celsius, if desired","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"value(T2,u\"°C\")","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"We could also do all of this in one line, though it is a bit harder to debug if something goes wrong:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"T2 = Temperature(T1*TemperatureRatio(PressureRatio(p2/p1),Isentropic))","category":"page"},{"location":"manual/1-IsentropicGasDynamics/#Example-2","page":"Isentropic quasi-1D steady compressible flow","title":"Example 2","text":"","category":"section"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"If the temperature ratio TT_0 is 0.2381, what is the Mach number?","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"MachNumber(TemperatureRatio(0.2381),Isentropic)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/#Example-3","page":"Isentropic quasi-1D steady compressible flow","title":"Example 3","text":"","category":"section"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"If the Mach number is 4.4 and stagnation pressure is 800 kPa, what is the pressure?","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Pressure(StagnationPressure(800u\"kPa\"),MachNumber(4.4),Isentropic)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/#Mach-area-relations","page":"Isentropic quasi-1D steady compressible flow","title":"Mach - area relations","text":"","category":"section"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"A big part of isentropic quasi-1D flow deals with changes of the flow in variable-area ducts. For these calculations, we make use of the sonic area A_* as a reference area. Remember that, for any ratio of AA_*, there are two possible Mach numbers, corresponding to a subsonic flow and a supersonic flow. Let us see that by plotting AA_* versus Mach number M. If, for example, AA_* = 2, then note where the dashed line crosses the plot:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Mrange = range(0,6,length=601)\nAratio = []\nfor M in Mrange\n    push!(Aratio,value(AOverAStar(MachNumber(M),Isentropic)))\nend\n\nplot(Mrange,Aratio,xlim=(0,4),ylim=(0,12),yticks=0:1:12,xlabel=\"Mach number\",ylabel=L\"A/A_*\",legend=false)\nscatter!([1],[1])\nplot!(Mrange,2*ones(length(Mrange)),style=:dash)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/#Example-4","page":"Isentropic quasi-1D steady compressible flow","title":"Example 4","text":"","category":"section"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"What are the subsonic and supersonic Mach numbers associated with, for example, an area ratio AA_* of 2 (the dashed line in the plot above)? We simply input the desired area ratio and find the two solutions:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"M1, M2 = MachNumber(AreaRatio(2),Isentropic);\nnothing #hide","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"M1","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"M2","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"A related question: What is the local sonic reference area A_* when the Mach number is 7.1 and the local area is 50 sq cm?","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"We first compute AA_* from M = 71, then compute A_* = A(AA_*):","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"A = Area(50u\"cm^2\")\nM = MachNumber(7.1)\nA_over_Astar = AOverAStar(M,Isentropic)\nAstar = Area(A/A_over_Astar)\nvalue(Astar,u\"cm^2\")","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"So the throat would have to be 0.45 sq cm, much smaller than 50 sq cm! Note that there is a convenience function to do those steps all in one:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"value(AStar(A,M),u\"cm^2\")","category":"page"},{"location":"manual/1-IsentropicGasDynamics/#Example-5","page":"Isentropic quasi-1D steady compressible flow","title":"Example 5","text":"","category":"section"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Consider the flow of air through a converging-diverging nozzle, leaving a stagnant reservoir at pressure p_0 = 700 kPa and temperature T_0 = 30 degrees C. The Mach number at a location (1) in the converging section with area 50 sq cm is equal to 0.4. The exit of the nozzle has area 60 sq cm.","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"(a) What are the possible Mach numbers at the exit in choked isentropic conditions? What are the exit (i.e., \"back\") pressures p_2 associated with these two Mach numbers?","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"(b) What is the mass flow rate through the nozzle in these conditions?","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"First, we set the known values","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"p0 = StagnationPressure(700u\"kPa\")\nT0 = StagnationTemperature(30u\"°C\")\nA1 = Area(50u\"cm^2\")\nA2 = Area(60u\"cm^2\")\nM1 = MachNumber(0.4)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Now, we compute A_1A_* from M_1. Use this to calculate A_* from A_1(A_1A_*). Then calculate A_2A_*:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"A1_over_Astar = AOverAStar(M1,Isentropic,gas=Air)\nAstar = Area(A1/A1_over_Astar)\nA2_over_Astar = AreaRatio(A2/Astar)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Now calculate the Mach numbers at location 2 (the nozzle exit):","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"M2sub = SubsonicMachNumber(A2_over_Astar,Isentropic,gas=Air);\nnothing #hide","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"M2sup = SupersonicMachNumber(A2_over_Astar,Isentropic,gas=Air);\nnothing #hide","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Actually, all of the last few steps can be done in one step with a different version of the function MachNumber:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"M2sub, M2sup = MachNumber(M1,A1,A2,Isentropic,gas=Air);\nnothing #hide","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Now let's determine the exit pressures (location 2) corresponding to these two Mach numbers:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"p0_over_p2sub = P0OverP(M2sub,Isentropic,gas=Air)\np2sub = Pressure(p0/p0_over_p2sub)\nvalue(p2sub,u\"kPa\")","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"p0_over_p2sup = P0OverP(M2sup,Isentropic,gas=Air)\np2sup = Pressure(p0/p0_over_p2sup)\nvalue(p2sup,u\"kPa\")","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"So if the exit pressure is 651 kPa, then the flow will remain choked and subsonic throughout, and if the exit pressure is 71.5 kPa, then the flow will remain choked and supersonic throughout.","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Note that, because the flow is choked, the mass flow rate is the same for both of these cases. Let's calculate that mass flow rate (using rho_1 u_1 A_1). We need rho_1 and u_1. First, calculate the stagnation density in this nozzle:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"ρ0 = StagnationDensity(p0,T0,gas=Air) # this uses the perfect gas law","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Using M_1, find rho_0rho_1:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"ρ0_over_ρ1 = ρ0Overρ(M1,Isentropic,gas=Air)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"So we can get rho_1 from rho_0(rho_0rho_1):","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"ρ1 = Density(ρ0/ρ0_over_ρ1)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"Now get u_1 from M_1 c_1, where c_1 is the speed of sound. For that, we need T_1:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"T0_over_T1 = T0OverT(M1,Isentropic,gas=Air)\nT1 = Temperature(T0/T0_over_T1)\nc1 = SoundSpeed(T1)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"u1 = Velocity(M1*c1)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"And now we can put it all together:","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"mdot = MassFlowRate(ρ1*u1*A1)","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"So the mass flow rate is stuck at 5.1 kg/s","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"","category":"page"},{"location":"manual/1-IsentropicGasDynamics/","page":"Isentropic quasi-1D steady compressible flow","title":"Isentropic quasi-1D steady compressible flow","text":"This page was generated using Literate.jl.","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"EditURL = \"../../../test/literate/4-FannoFlow.jl\"","category":"page"},{"location":"manual/4-FannoFlow/#Steady-frictional-flow-through-a-constant-area-duct","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"","category":"section"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"This notebook demonstrates the use of tools for computing flow through a constant-area  duct with frictional effects, also known as Fanno flow","category":"page"},{"location":"manual/4-FannoFlow/#Set-up-the-module","page":"Steady frictional flow through a constant-area duct","title":"Set up the module","text":"","category":"section"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"using Gasdynamics1D","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"using Plots\nusing LaTeXStrings","category":"page"},{"location":"manual/4-FannoFlow/#Some-general-aspects-of-Fanno-flow","page":"Steady frictional flow through a constant-area duct","title":"Some general aspects of Fanno flow","text":"","category":"section"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Most calculations with frictional flow involve the relationship between Mach number and the reference length L^*, representing the length required from that point to bring the flow to Mach number equal to 1. The relationship is based on the dimensionless parameter","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"dfracf L^*D","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"where f is the Darcy friction factor and D is the duct diameter. Let's plot  this relationship for air:","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Mrange = range(0.1,8,length=801)\nfLDarray = []\nfor M in Mrange\n    push!(fLDarray,value(FLStarOverD(MachNumber(M),FannoFlow,gas=Air)))\nend","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"plot(Mrange,fLDarray,xlim=(0,8),ylim=(0,10),xticks=0:1:8,xlabel=\"Mach number\",ylabel=L\"fL^*/D\",legend=false)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Notice that the reference length goes to zero at Mach number 1, as it should, by its definition. It should also be noted that there are a few values of fL^*D for which there are two possible Mach numbers–-one subsonic and one supersonic. This is analogous to the situation in isentropic flow with area changes.","category":"page"},{"location":"manual/4-FannoFlow/#Example-1","page":"Steady frictional flow through a constant-area duct","title":"Example 1","text":"","category":"section"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Flow enters a duct of diameter 2 cm at Mach number equal to 0.1 and leaves at Mach number equal to 0.5. Assume that the friction factor is equal to 0.024 throughout.","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"(a) What is the length of the duct?","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"(b) How much longer would the duct have to be to reach Mach number equal to 1 at the exit? First, we use M_1 = 01 to calculate f L_1^*D. We will do the same with M_2  to calculate f L_2^*D. The actual length L is given by the difference between  L_1^* and L_2^*.","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"f = FrictionFactor(0.024)\nD = Diameter(2u\"cm\")","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"M1 = MachNumber(0.1)\nfL1star_over_D = FLStarOverD(M1,FannoFlow)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"M2 = MachNumber(0.5)\nfL2star_over_D = FLStarOverD(M2,FannoFlow)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Now calculate L_1^* and L_2^*, and L from their difference:","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"L1star = Length(fL1star_over_D*D/f)\nL2star = Length(fL2star_over_D*D/f)\nL = Length(L1star-L2star)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"The additional length needed to bring the flow to Mach number 1 is, by definition, L_2^*:","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"L2star","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"So we only need 0.89 m more to bring the flow to sonic (choked) conditions.","category":"page"},{"location":"manual/4-FannoFlow/#Example-2","page":"Steady frictional flow through a constant-area duct","title":"Example 2","text":"","category":"section"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Consider a flow of air through a circular pipe of diameter 3 cm, starting at stagnation pressure 200 kPa, stagnation temperature 500 K, and velocity 100 m/s. The friction factor in the pipe can be assumed to be 0.02 throughout.","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"(a) What length of pipe would be needed to drive the flow to Mach number 1 at the exit?","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"(b) What is the mass flow rate through the pipe at those conditions?","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"(c) Suppose the pipe were 30 m long. How would the mass flow rate change?","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"For (a), we are seeking L_1^*. First set the known conditions:","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"D = Diameter(3u\"cm\")\np01 = StagnationPressure(200u\"kPa\")\nT01 = StagnationTemperature(500)\nu1 = Velocity(100)\nf = FrictionFactor(0.02)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Now calculate the Mach number at the entrance. For this, we need c_1, the speed of sound. We get this by using the known stagnation temperature T_01 = 500 K and velocity u_1 = 100 m/s. We will calculate the temperature T_1 from these (using h_1 = h_01 - u_1^22), and c_1 from that:","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"h01 = StagnationEnthalpy(T01)\nh1 = Enthalpy(h01,u1) # this computes h1 = h01 - u1^2/2\nT1 = Temperature(h1)\nc1 = SoundSpeed(T1)\nM1 = MachNumber(u1/c1)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Now we can compute fL_1^*D and then L_1^*. This is what we seek.","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"fL1starD = FLStarOverD(M1,FannoFlow)\nL1star = Length(fL1starD*D/f)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"so we need a pipe of 16.6 m to reach Mach number 1.","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Now let's compute the mass flow rate. We need the area and density. For the density, we will first get the stagnation density (from p_01 and T_01) and then get  density from the isentropic relation. (We are not using isentropic relations  between two different points in the duct; we are using it to relate local  stagnation conditions to local conditions.)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"A = Area(D)\nρ01 = StagnationDensity(p01,T01)\nρ1 = Density(ρ01,M1,Isentropic)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"and the mass flow rate is:","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"ṁ = MassFlowRate(ρ1*u1*A)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"(c) Now suppose the pipe is 30 m long. This becomes our new L_1^*, and all of the conditions at the entrance must adjust accordingly. First find the Mach number","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Lstar = L = Length(30u\"m\")\nfLstar_over_D = FLOverD(f*Lstar/D)\nM1 = SubsonicMachNumber(fLstar_over_D,FannoFlow)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"Note that the entrance Mach number is lower. The flow slows down due to the longer pipe. Now find the new values of rho_1 and u_1 (by finding c_1):","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"T1 = Temperature(T01,M1,Isentropic)\nρ1 = Density(ρ01,M1,Isentropic)\nc1 = SoundSpeed(T1)\nu1 = Velocity(c1,M1)\nṁ = MassFlowRate(ρ1*u1*A)","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"So the mass flow rate is smaller than it was with the shorter pipe! For the same reservoir conditions, less mass flow rate is delivered to a longer (choked) pipe.","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"","category":"page"},{"location":"manual/4-FannoFlow/","page":"Steady frictional flow through a constant-area duct","title":"Steady frictional flow through a constant-area duct","text":"This page was generated using Literate.jl.","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"EditURL = \"../../../test/literate/5-RayleighFlow.jl\"","category":"page"},{"location":"manual/5-RayleighFlow/#Steady-flow-through-a-duct-with-heat-transfer","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"","category":"section"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"This notebook demonstrates the use of tools for computing steady compressible flow through a constant-area duct with heat transfer, commonly known as Rayleigh flow.","category":"page"},{"location":"manual/5-RayleighFlow/#Set-up-the-module","page":"Steady flow through a duct with heat transfer","title":"Set up the module","text":"","category":"section"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"using Gasdynamics1D","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"using Plots\nusing LaTeXStrings","category":"page"},{"location":"manual/5-RayleighFlow/#Simple-example","page":"Steady flow through a duct with heat transfer","title":"Simple example","text":"","category":"section"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"In a duct with helium, if the flow enters with stagnation temperature of 20 degrees C, how much does the stagnation temperature change if we add heat 400 kJ/kg?","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"q = HeatFlux(400u\"kJ/kg\")\nT01 = StagnationTemperature(20u\"°C\")","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"starting stagnation enthalpy","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"h01 = StagnationEnthalpy(T01,gas=He) # h01 = cp*T01","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"add the heat","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"h02 = StagnationEnthalpy(h01 + q)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"calculate the final stagnation temperature","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"T02 = StagnationTemperature(h02,gas=He)  # T02 = h02/cp","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Report the final value in Celsius:","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"value(T02,u\"°C\")","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"so the flow exiting the duct has stagnation temperature 97 C.","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"The sonic state is used as a reference, similar to Fanno flow and isentropic flow. All states share the same T_0^*, p^*, u^*, etc, so we can relate two points via this reference. We have functions that allow us to do this. For example, to find the ratio of the local stagnation temperature to its sonic reference value at Mach number 0.5 in air:","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"T0OverT0Star(MachNumber(0.5),RayleighFlow,gas=Air)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Note that the argument RayleighFlow was used to designate this function's use. If the Mach number is 1, then...","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"T0OverT0Star(MachNumber(1),RayleighFlow,gas=Air)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"That is, T_0 is equal to T_0^* when Mach number is 1, as it should be, by definition. Alternatively, if we know T_0T_0^*, we can determine M. However, there are sometimes two possible values of Mach number, as with Fanno flow and isentropic flow.","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Mrange = range(0.001,8,length=801)\nT0_over_T0star = []\nfor M in Mrange\n    push!(T0_over_T0star,value(T0OverT0Star(MachNumber(M),RayleighFlow,gas=Air)))\nend","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"plot(Mrange,T0_over_T0star,xlim=(0,8),ylim=(0,2),xticks=0:1:8,xlabel=\"Mach number\",ylabel=L\"T_0/T_0^*\",legend=false)\nplot!(Mrange,0.75*ones(length(Mrange)),style=:dash)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"For example, if T_0T_0^* = 075, there are two possible Mach numbers, one subsonic and one supersonic. The correct one depends on the circumstances.","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Msub, Msup = MachNumber(TemperatureRatio(0.75),RayleighFlow,gas=Air)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Msub","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Msup","category":"page"},{"location":"manual/5-RayleighFlow/#Example","page":"Steady flow through a duct with heat transfer","title":"Example","text":"","category":"section"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Suppose the flow of air in a duct enters with velocity 75 m/s at a pressure of 150 kPa and temperature 300 K. We add heat 900 kJ/kg. Find","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"(a) The value of the Mach number at the entrance and exit","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"(b) The velocity, pressure, and temperature at the exit","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"(c) The maximum amount of heat we can add so that the flow is just choked","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Set the given values","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"u1 = Velocity(75u\"m/s\")\np1 = Pressure(150u\"kPa\")\nT1 = Temperature(300)\nq = HeatFlux(900u\"kJ/kg\")","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"We can immediately find the Mach number at the location 1, by finding c_1:","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"c1 = SoundSpeed(T1,gas=Air)\nM1 = MachNumber(u1/c1)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Now, use M_1 and T_1 to find T_01.","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"T01 = StagnationTemperature(T1,M1,Isentropic,gas=Air)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Now let's focus on state 2. We will use the basic relation h_02 = h_01 + q to determine T_02.","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"h01 = StagnationEnthalpy(T01,gas=Air)\nh02 = StagnationEnthalpy(h01+q)\nT02 = StagnationTemperature(h02,gas=Air)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"To get the other states at location 2, we need the sonic reference conditions. For example, we will find","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"T_02T_0^*","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"to determine M_2. We get this by calculating","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"T_0^* = T_01(T_01T_0^*)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"T0star = StagnationTemperature(T01/T0OverT0Star(M1,RayleighFlow,gas=Air))","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"T02_over_T0star = TemperatureRatio(T02/T0star)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"M2sub, M2sup = MachNumber(T02_over_T0star,RayleighFlow,gas=Air)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"The subsonic one is the only possible candidate, because the flow came in at subsonic speed and can't have passed through Mach number 1. Thus","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"M2 = M2sub","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"We have increased the Mach number from 0.216 to 0.573 by adding heat.","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Now find the other reference states that we will use:","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"pstar = Pressure(p1/POverPStar(M1,RayleighFlow,gas=Air))\nustar = Velocity(u1/VOverVStar(M1,RayleighFlow,gas=Air))\nTstar = Temperature(T1/TOverTStar(M1,RayleighFlow,gas=Air))","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"and now the values themselves. For example, we use M_2 to calculate p_2p^* and then calculate p_2 = p^*(p_2p^*).","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"p2 = Pressure(pstar*POverPStar(M2,RayleighFlow,gas=Air))","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"u2 = Velocity(ustar*VOverVStar(M2,RayleighFlow,gas=Air))","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"T2 = Temperature(Tstar*TOverTStar(M2,RayleighFlow,gas=Air))","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Finally, let us calculate the maximum heat flux – the heat flux that brings the flow just to sonic conditions when starting at the given conditions at location 1. This comes from","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"q_max = h_0^* - h_01 = c_p (T_0^* - T_01)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"We have a convenience function for that, based on stagnation temperature:","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"qmax = HeatFlux(T01,T0star,gas=Air)","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"value(qmax,u\"kJ/kg\")","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"Thus, we can add up to 1223 kJ/kg before the flow gets choked. Any more than that will cause the entrance conditions to change.","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"","category":"page"},{"location":"manual/5-RayleighFlow/","page":"Steady flow through a duct with heat transfer","title":"Steady flow through a duct with heat transfer","text":"This page was generated using Literate.jl.","category":"page"},{"location":"#Gasdynamics1D.jl","page":"Home","title":"Gasdynamics1D.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"tools for analysis of 1d gasdynamics problems","category":"page"},{"location":"","page":"Home","title":"Home","text":"The purpose of this package is to enable easy analysis of 1-d gas dynamics problems.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This package works on Julia 1.0 and higher and is registered in the general Julia registry. To install, type","category":"page"},{"location":"","page":"Home","title":"Home","text":"]add Gasdynamics1D","category":"page"},{"location":"","page":"Home","title":"Home","text":"Then type","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> using Gasdynamics1D","category":"page"},{"location":"","page":"Home","title":"Home","text":"The plots in this documentation are generated using Plots.jl. You might want to install that, too, to follow the examples.","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"EditURL = \"../../../test/literate/2-ConvergingDivergingNozzle.jl\"","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/#Quasi-1D-flow-in-a-converging-diverging-nozzle","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"","category":"section"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"In this notebook we will explore the flow in a converging-diverging nozzle. The objective of this notebook is to explore the effect of back pressure relative to the upstream stagnation pressure.","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/#Set-up-the-module","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Set up the module","text":"","category":"section"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"using Gasdynamics1D","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"using Plots","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/#Set-up-a-nozzle","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Set up a nozzle","text":"","category":"section"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"First, we will set up a nozzle. For this, we will create a representative nozzle shape: a bell-shaped converging inlet and a slowly increasing diverging section. We set the inlet area, the throat area, and the exit area:","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"Ai = Area(100u\"cm^2\")\nAt = Area(30u\"cm^2\")\nAe = Area(60u\"cm^2\")\nnoz = Nozzle(Ai,At,Ae)","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"Let's plot this nozzle to see its shape","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"nozzleplot(noz)","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/#Create-a-flow-through-the-nozzle","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Create a flow through the nozzle","text":"","category":"section"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"Let's set the conditions to create a flow through this nozzle. We need to set the stagnation conditions upstream of the nozzle. We will use stagnation pressure and temperature.","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"p0 = StagnationPressure(700u\"kPa\")\nT0 = StagnationTemperature(30u\"°C\")","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"We also need a back pressure, outside of the nozzle exit. Let's try setting it to 660 kPa, a little bit below the stagnation pressure","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"pb = Pressure(660u\"kPa\")","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"Now we have enough information to solve this flow. Let's plot it. We need to specify which quantities we wish to show. We will show pressure and Mach number. We could also show temperature and density.","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"The plot below shows that the pressure reaches a minimum in the throat and the Mach number reaches a maximum there. However, it does not quite get to sonic conditions.","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"nozzleplot(noz,pb,p0,T0,fields=(\"pressure\",\"machnumber\"))","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"One note on the last plots: We could have specified the gas, but it defaults to air.","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/#Lowering-the-back-pressure","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Lowering the back pressure","text":"","category":"section"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"What happens if we lower the back pressure further? Let's try this. For several back pressures, we get a shock in the diverging section. As back pressure gets smaller, this shock appears closer to the exit. Finally, the shock leaves the nozzle entirely.","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"nozzleplot(noz,Pressure(660u\"kPa\"),p0,T0,fields=(\"pressure\",\"mach\"))\nnozzleplot!(noz,Pressure(600u\"kPa\"),p0,T0,fields=(\"pressure\",\"mach\"))\nnozzleplot!(noz,Pressure(500u\"kPa\"),p0,T0,fields=(\"pressure\",\"mach\"))\nnozzleplot!(noz,Pressure(400u\"kPa\"),p0,T0,fields=(\"pressure\",\"mach\"))\nnozzleplot!(noz,Pressure(360u\"kPa\"),p0,T0,fields=(\"pressure\",\"mach\"))\nnozzleplot!(noz,Pressure(300u\"kPa\"),p0,T0,fields=(\"pressure\",\"mach\"))","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/#Mass-flow-rate","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Mass flow rate","text":"","category":"section"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"What is the mass flow rate through the nozzle? Let's inspect this value for a few back pressures. First, the case with 660 kPa:","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"nozproc = NozzleProcess(noz,Pressure(660u\"kPa\"),p0,T0)\nmassflowrate(nozproc)","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"Now with 600 kPa","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"nozproc = NozzleProcess(noz,Pressure(600u\"kPa\"),p0,T0)\nmassflowrate(nozproc)","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"And now with 500 kPa","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"nozproc = NozzleProcess(noz,Pressure(500u\"kPa\"),p0,T0)\nmassflowrate(nozproc)","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"Notice that the mass flow rate is stuck. No matter how much we lower the back pressure, we cannot increase the mass flow rate. The flow is choked.","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"We can classify the type of flow with the flow_quality function:","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"nozproc = NozzleProcess(noz,Pressure(600u\"kPa\"),p0,T0)\nflow_quality(nozproc)","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"There is a normal shock in the diverging section","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"nozproc = NozzleProcess(noz,Pressure(100u\"kPa\"),p0,T0)\nflow_quality(nozproc)","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"This is over-expanded: the exit pressure is too small and the flow needs to pass through shocks outside the nozzle to get up to the back pressure.","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"nozproc = NozzleProcess(noz,Pressure(60u\"kPa\"),p0,T0)\nflow_quality(nozproc)","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"This is under-expanded: the exit pressure is not low enough and the flow needs to pass through an expansion fan outside the nozzle to lower its pressure further to get down to the back pressure.","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"When we seek to generate a supersonic exit flow, as is often the case, then our goal is to design it so that the flow is perfectly expanded. We can find the required back pressure easily, using isentropic relations:","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"Ae = nozzleexit(noz)\nAstar = throat(noz)\npb = Pressure(SupersonicPOverP0(Ae,Astar,Isentropic)*p0)","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"","category":"page"},{"location":"manual/2-ConvergingDivergingNozzle/","page":"Quasi-1D flow in a converging-diverging nozzle","title":"Quasi-1D flow in a converging-diverging nozzle","text":"This page was generated using Literate.jl.","category":"page"}]
}
